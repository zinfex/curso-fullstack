<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <input type="text" id="name" placeholder="name">
    <input type="email" id="email" placeholder="email">

    <button id="enviar">Enviar</button>
    <button id="exibir">Exibir</button>
    <button id="limpar">Limpar</button>

    <ul id="box" style="border: 1px solid black; margin: 20px;"></ul>

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script>
        //POST NO CRIAR USUARIOS
        $('#enviar').on('click', function(evento) {
            evento.preventDefault()
            $.ajax({
                url: "http://localhost:3000/users",
                method: "POST",
                data: {
                    name: $('#name').val(),
                    email: $('#email').val()
                },
                success: function(resposta) {
                    console.log(resposta)
                    $('input').val("")
                },
                error: function(erro) {
                    alert('Erro ao consumir a API')
                    console.log(erro)
                }
            })
        })
        
        //GET NO EXIBIR USUARIOS
        $('#exibir').on('click', function(dados) {
            $.ajax({
                url: "http://localhost:3000/users",
                method: "GET",
                success: function(usuarios) {
                    $('ul').html("")

                    for(var i in usuarios) {
                        $('#box').append(
                            `<li>ID:${usuarios[i].id} Nome:${JSON.stringify(usuarios[i].name)} <br>  Email:${JSON.stringify(usuarios[i].email)} <br><br></li>`
                        )
                    }
                    
                },
                error: function(erro) {
                    alert('Erro ao consumir a API')
                    console.log(erro)
                }
            })
        })

        //DELETE NO EXCLUIR USUARIOS
        // $('#limpar').on('click', function() {
        //     $.ajax({
        //         url: "http://localhost:3000/users",
        //         method: "DELETE",
        //         success: function(usuario) {
                    
        //         }
        //     })
        // })
        </script>
</body>
</html>